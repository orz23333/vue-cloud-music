webpackJsonp([4],{"+ytj":function(t,e){},"5tjE":function(t,e){},AcUZ:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("IHPB"),s=n.n(i),r=n("ZLEe"),c=n.n(r),a=n("rVsN"),o=n.n(a),l=n("AA3o"),u=n.n(l),d=n("xSur"),m=n.n(d),f=n("vfYU"),v=n("T452"),h=function(){function t(e){var n=e.id,i=e.name,s=e.copywriter,r=e.picUrl,c=e.duration,a=e.playCount,o=e.artistName,l=e.artistId,d=e.cover,m=e.lastRank;u()(this,t),this.id=n,this.name=i,this.copywriter=s,this.picUrl=r,this.duration=c,this.playCount=a,this.artistName=o,this.artistId=l,this.cover=d,this.lastRank=m}return m()(t,[{key:"_getMvDetail",value:function(t){var e=this;Object(f.b)(this.id).then(function(t){if(t.code===v.b){var n=t.data;return e.desc=n.desc,e.playCount=n.playCount,e.subCount=n.subCount,e.shareCount=n.shareCount,e.commentCount=n.commentCount,e.duration=n.duration,e.brs=_getSrc(n.brs),o.a.resolve()}})}},{key:"_getSrc",value:function(t){var e=c()(t);return e=e.map(function(t){}),t[Math.max.apply(Math,s()(e))]}}]),t}()},FCbr:function(t,e,n){n("rYUz"),n("kUHi"),t.exports=n("/KQr").Array.from},IHPB:function(t,e,n){"use strict";e.__esModule=!0;var i,s=n("kfHR"),r=(i=s)&&i.__esModule?i:{default:i};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,r.default)(t)}},TG0N:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("4YfN"),s=n.n(i),r=n("/lZI"),c={props:{items:{type:Array,default:function(){return[]}},title:{type:String,default:"推荐"},rType:{type:String,default:"music"}},methods:{_normalizeCount:function(t){return(t=(t=+t%1e4).toFixed(1))+"万"},selectItem:function(t){this.$emit("selectItem",t)}},computed:{Cls:function(){return"mv"===this.rType?"item-mv":"item-music"}}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend"},[n("h1",{staticClass:"title"},[n("i",{staticClass:"border"}),t._v("\n        "+t._s(t.title)+"\n    ")]),t._v(" "),n("ul",{staticClass:"disc-wrapper"},t._l(t.items,function(e){return n("li",{class:t.Cls,on:{click:function(n){return t.selectItem(e)}}},[n("div",{staticClass:"item-link",attrs:{href:""}},[n("div",{staticClass:"item-content"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],staticClass:"item-img"})]),t._v(" "),n("span",{staticClass:"count"},[n("i",{staticClass:"icon-yinyue"}),t._v("\n                    "+t._s(t._normalizeCount(e.playCount))+"\n                ")]),t._v(" "),n("p",{staticClass:"text"},[t._v(t._s(e.name))])])])}),0)])},staticRenderFns:[]};var o=n("C7Lr")(c,a,!1,function(t){n("5tjE")},"data-v-ef25611c",null).exports,l=n("qwAB"),u=n("T452"),d=n("HVJf"),m=n("m40h"),f=n("AcUZ"),v={data:function(){return{recommends:[],discList:[],mvList:[]}},methods:s()({selectMv:function(t){this.playMv(t.id)},selectDisc:function(t){this.changeDisc(t.id)},loadImage:function(){this.$refs.scroll.refresh()},_getRecommed:function(){var t=this;Object(m.b)().then(function(e){e.code===u.a&&(t.recommends=e.data.slider)})},_getRecommedDisc:function(){var t=this;Object(m.c)().then(function(e){e.code===u.b&&(t.discList=e.result.slice(0,9))})},_getRecommedMv:function(){var t=this;Object(m.d)().then(function(e){e.code===u.b&&(t.mvList=t._normalizeMv(e.result))})},_normalizeMv:function(t){return t.map(function(t){return new f.a(t)})}},Object(d.b)(["playMv","changeDisc"]),Object(d.d)({setDisc:"SET_DISC",setDiscShow:"SET_DISC_SHOW"})),computed:{recommendData:function(){return this.discList.concat(this.mvList).concat(this.recommends)},showMv:function(){return this.mvList.slice(0,6)}},created:function(){this._getRecommed(),this._getRecommedDisc(),this._getRecommedMv()},components:{Slider:r.a,Recommend:o,Scroll:l.a}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"findmusic"},[n("scroll",{ref:"scroll",staticClass:"scroll-wrapper",attrs:{data:t.recommendData,refreshDelay:500}},[n("div",[n("div",{staticClass:"findmusic-content"},[t.recommends.length?n("div",{staticClass:"slider-wrapper"},[n("slider",t._l(t.recommends,function(e){return n("div",{key:e.linkUrl},[n("a",{staticClass:"needsclick",attrs:{href:e.linkUrl}},[n("img",{staticClass:"needsclick",attrs:{src:e.picUrl},on:{load:t.loadImage}})])])}),0)],1):t._e(),t._v(" "),n("recommend",{attrs:{rType:"music",items:t.discList,title:"推荐歌单"},on:{selectItem:t.selectDisc}}),t._v(" "),n("recommend",{attrs:{rType:"mv",items:t.mvList,title:"推荐Mv"},on:{selectItem:t.selectMv}})],1)])])],1)},staticRenderFns:[]};var p=n("C7Lr")(v,h,!1,function(t){n("+ytj")},"data-v-47c1c9b2",null);e.default=p.exports},UJ2L:function(t,e,n){"use strict";var i=n("0hE2"),s=n("0ZA2");t.exports=function(t,e,n){e in t?i.f(t,e,s(0,n)):t[e]=n}},kUHi:function(t,e,n){"use strict";var i=n("I1yF"),s=n("2AZ7"),r=n("A2+p"),c=n("Hgu4"),a=n("1Hpz"),o=n("6f6n"),l=n("UJ2L"),u=n("jdnV");s(s.S+s.F*!n("Utzn")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,s,d,m=r(t),f="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,p=void 0!==h,_=0,y=u(m);if(p&&(h=i(h,v>2?arguments[2]:void 0,2)),void 0==y||f==Array&&a(y))for(n=new f(e=o(m.length));e>_;_++)l(n,_,p?h(m[_],_):m[_]);else for(d=y.call(m),n=new f;!(s=d.next()).done;_++)l(n,_,p?c(d,h,[s.value,_],!0):s.value);return n.length=_,n}})},kfHR:function(t,e,n){t.exports={default:n("FCbr"),__esModule:!0}}});
//# sourceMappingURL=4.009dc918c8c3b790dfeb.js.map