webpackJsonp([9],{Kjo5:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("4YfN"),a=e.n(i),n=e("qwAB"),c=e("y/jF"),o=(e("aA9S"),e("rVsN")),l=e.n(o),r=(e("Gak4"),e("T452")),u=e("BMa3"),v=e.n(u);var d=e("HVJf"),m={created:function(){this._getTopList()},data:function(){return{cloudList:[],otherList:[]}},methods:a()({selectItem:function(t){this.changeDisc(t.id)},_getTopList:function(){var t=this;v.a.get("http://localhost:3000/toplist/detail",{}).then(function(t){return l.a.resolve(t.data)}).catch(function(t){console.log(t)}).then(function(s){s.code===r.b&&(t.cloudList=t._normalizeList(s.list.slice(0,4)),t.otherList=t._normalizeList(s.list.slice(4)))})},_normalizeList:function(t){var s=[];return t.forEach(function(t){var e={};e.id=t.id,e.coverImgUrl=t.coverImgUrl,e.tracks=t.tracks,e.name=t.name,s.push(e)}),s}},Object(d.d)({setDisc:"SET_DISC"}),Object(d.b)(["changeDisc"])),watch:{cloudList:function(){var t=this;setTimeout(function(){t.$Lazyload.lazyLoadHandler()},20)}},components:{Scroll:n.a,Loading:c.a}},f={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"rank",staticClass:"rank"},[e("scroll",{ref:"toplist",staticClass:"toplist",attrs:{data:t.cloudList}},[e("div",[e("h2",{staticClass:"title"},[e("span"),t._v("云音乐官方榜\n            ")]),t._v(" "),e("ul",t._l(t.cloudList,function(s){return e("li",{staticClass:"item",on:{click:function(e){return t.selectItem(s)}}},[e("div",{staticClass:"icon"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.coverImgUrl,expression:"item.coverImgUrl"}]})]),t._v(" "),e("ul",{staticClass:"songlist"},t._l(s.tracks,function(s,i){return e("li",{staticClass:"song"},[e("span",[t._v(t._s(i+1))]),t._v(" "),e("span",[t._v(t._s(s.first)+"-"+t._s(s.second))])])}),0)])}),0),t._v(" "),e("h2",{staticClass:"title"},[e("span"),t._v("云音乐官方榜\n            ")]),t._v(" "),e("ul",{staticClass:"other"},t._l(t.otherList,function(s){return e("li",{staticClass:"otheritem",on:{click:function(e){return t.selectItem(s)}}},[e("div",{staticClass:"icon"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.coverImgUrl,expression:"item.coverImgUrl"}]})]),t._v(" "),e("p",[t._v(t._s(s.name))])])}),0),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.cloudList.length,expression:"!cloudList.length"}],staticClass:"loading-container"},[e("loading")],1)])])],1)},staticRenderFns:[]};var _=e("C7Lr")(m,f,!1,function(t){e("woDb")},"data-v-69beb06f",null);s.default=_.exports},woDb:function(t,s){}});
//# sourceMappingURL=9.9fa1b2372b5958ef9268.js.map